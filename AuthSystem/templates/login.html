{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>
  {% if error %}
  <script>alert("{{ error }}");</script>
{% endif %}
  <video autoplay muted loop id="myVideo">
    <source src="{% static 'videos/about.mp4' %}" type="video/mp4">
  </video>
    <!--ring div starts here-->
    <form action="" method="post" enctype="multipart/form-data">
      {% csrf_token %}
<div class="ring">
    <i style="--clr:#00ff0a;"></i>
    <i style="--clr:#ff0057;"></i>
    <i style="--clr:#fffd44;"></i>
    <div class="login">
      <h2>Login</h2>
      <div class="inputBx">
        <input type="text" name="username" placeholder="ID Number" required>
      </div>
      <div class="inputBx">
        <input type="password" name="password" placeholder="Password" id="password" oninput="onChange()" title="Must contain at least 8 or more characters" required>
        
      </div>
      
      <div class="inputBx">
        <input type="submit" value="Sign in">
      </div>
      <div class="links">
        <!-- <a href="#">Forget Password</a> -->
        <a href="{% url 'signup' %}">Signup</a>
      </div>
    </div>
  </div>
</form>
<div id="passwordError" class="error-message"></div>
  <!--ring div ends here-->
</body>
<script type="module">
  // Define the onChange function globally
  function onChange() {
    const password = document.getElementById('password');
    
    let errorMessage = '';
    // Reset error message
    passwordError.textContent = '';

    // Additional password validations
    if (password.value.length < 8) {
        passwordError.textContent += ' Password must be at least 8 characters long';
    } 
    else if (!/\d/.test(password.value)) {
        passwordError.textContent += ' Password must contain at least one number';
    } else if (!/[a-zA-Z]/.test(password.value)) {
        passwordError.textContent += ' Password must contain at least one letter';
    } 


    if (errorMessage !== '') {
      alert(errorMessage);
  }
}
</script>


</html>
